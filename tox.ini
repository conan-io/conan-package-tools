[tox]
skipsdist=True
envlist =
    py{27,34,35,36,37}-conan{120,111,110,109}

[testenv]
deps =
    -rcpt/requirements_test.txt
    tabulate
    conan120: https://github.com/conan-io/conan/archive/release/1.12.0.zip
    conan111: conan>=1.11,<1.12
    conan110: conan>=1.10,<1.11
    conan109: conan>=1.9,<1.10
    conandev: https://github.com/conan-io/conan/archive/develop.tar.gz

setenv =
    PYTHONDONTWRITEBYTECODE=1
    PYTHONPATH = {toxinidir}:{env:PYTHONPATH:}
    CONAN_TEST_SUITE=1

passenv =
    VS120COMNTOOLS
    VS140COMNTOOLS
    VS150COMNTOOLS

commands =
    set
    nosetests {posargs:cpt.test}